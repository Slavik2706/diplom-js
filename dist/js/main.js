(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(r){let c=(r-n)/o;c>1&&(c=1);let a=e(c);t(a),c<1&&requestAnimationFrame(l)}))};(()=>{const t=document.querySelector("body"),o=document.querySelector(".modal-callback"),n=document.querySelector(".modal-overlay"),l=document.querySelectorAll(".callback-btn, .button-services"),r=document.querySelectorAll(".services-section .element");l.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),o.style.opacity=0,o.style.display="block",n.style.display="block",e({duration:1e3,timing:e=>e,draw(e){o.style.opacity=e}})}))})),r.forEach((t=>{t.addEventListener("click",(l=>{(function(e,t){const o=parseInt(window.getComputedStyle(e).width,10),n=parseInt(window.getComputedStyle(e).height,10),l=window.getComputedStyle(e,":before"),r=o/2-parseInt(l.width,10)/2,c=o/2+parseInt(l.width,10)/2,a=n/2-parseInt(l.height,10)/2,s=n/2+parseInt(l.height,10)/2,i=t.offsetX,d=t.offsetY;return i>=r&&i<=c&&d>=a&&d<=s})(t.querySelector(".img-wrapper"),l)&&(o.style.opacity=0,o.style.display="block",n.style.display="block",e({duration:1e3,timing:e=>e,draw(e){o.style.opacity=e}}))}))})),t.addEventListener("click",(t=>{(t.target.classList.contains("modal-overlay")||t.target.matches(".modal-close img"))&&(e({duration:1e3,timing:e=>e,draw(e){o.style.opacity=1-e}}),setTimeout((()=>{o.style.display="none",n.style.display="none"}),1e3))}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),o=e.querySelectorAll(".element-content");e.addEventListener("click",(e=>{const n=e.target.closest(".element");n&&t.forEach(((e,l)=>{e===n?(t[l].classList.add("active"),o[l].style.display="block"):(t[l].classList.remove("active"),o[l].style.display="none")}))}))})(),(()=>{const e=document.querySelector(".top-slider").querySelectorAll(".item");let t,o=0;const n=()=>{for(let t=0;t<e.length;t++)e[t].style.display=o===t?"block":"none";o++,o==e.length&&(o=0)};((e=3e3)=>{t=setInterval(n,e)})(3e3)})(),(()=>{const e=document.querySelector(".services-carousel").querySelectorAll(".col-sm-6"),t=document.querySelector(".services-arrow");let o=0;function n(t){for(let o=0;o<e.length;o++)e[o].style.display=o<3&&0==t||o>2&&1==t?"block":"none"}t.addEventListener("click",(e=>{e.target.matches(".arrow-right")?o++:e.target.matches(".arrow-left")&&o--,o>1&&(o=0),o<0&&(o=1),n(o)})),n(o)})(),(()=>{const e=document.querySelector(".up");let t=document.querySelector(".top-slider").clientHeight;e.style.display="none",window.addEventListener("scroll",(function(){let o=window.pageYOffset;e.style.display=o>=t?"block":"none"})),e.addEventListener("click",(function e(){window.pageYOffset>0&&(window.scrollBy(0,-100),setTimeout(e,10))}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector(".services-section"),o=document.querySelector(".accordeon-section"),n=document.querySelector(".contacts-section");let l=0;e.addEventListener("click",(e=>{if(e.preventDefault(),e.target.matches(".item-services")){let e=t.getBoundingClientRect().top;window.scroll(0,e+l)}if(e.target.matches(".item-faq")){let e=o.getBoundingClientRect().top;window.scroll(0,e+l)}if(e.target.matches(".item-contacts")){let e=n.getBoundingClientRect().top;window.scroll(0,e+l)}})),window.addEventListener("scroll",(()=>{l=window.pageYOffset}))})(),(()=>{const e=document.querySelector('form [placeholder="Ваше имя"]'),t=document.querySelector('form [placeholder="Телефон*"]');e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\- ]/,"")})),e.addEventListener("blur",(e=>{let t=e.target.value;t=t.split("");for(let e=0;e<t.length;e++)0===e&&(t[e]=t[e].toUpperCase());t=t.join(""),e.target.value=t})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d\+]/,"")}))})(),(()=>{const e=document.querySelector("#form-callback"),t=document.createElement("div"),o=e.querySelector("p"),n=document.createElement("div");e.addEventListener("submit",(l=>{l.preventDefault();const r=e.querySelectorAll("input"),c=new FormData(e),a={};var s;c.forEach(((e,t)=>{a[t]=e})),(e=>{let t=!0;return e.forEach((e=>{"tel"===e.getAttribute("name")&&(/.{11,}/.test(e.value)||(t=!1))})),t})(r)?(t.textContent="Идет отправка...",e.append(t),(s=a,fetch("./server.php",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((e=>e.json()))).then((e=>{t.textContent="Отправлено!",r.forEach((e=>{"Отправить"!==e.value&&(e.value="")}))})).catch((e=>{t.textContent="Ошибка!"})),(3e3,new Promise((e=>setTimeout(e,3e3)))).then((()=>{t.remove()})),n.textContent=""):(n.style.color="red",n.textContent="*Короткий номер телефона",o.prepend(n))}))})()})();